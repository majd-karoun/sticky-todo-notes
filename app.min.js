(()=>{document.addEventListener("DOMContentLoaded",function(){loadNoteZIndexes(),loadSavedData(),setupTextareaEvents(),setupBoardNavigation(),setupStyleOptions(),initBoardSelectionHandlers(),updateShortcutIcon(),setupBoardTitleListeners(),setTimeout(()=>showBoardTitleTemporarily(currentBoardId),500),f();const o=document.querySelector(".board-style-button");o&&o.addEventListener("click",toggleBoardStyleMenu);const n=document.querySelector(".trash-bin");n&&n.addEventListener("click",toggleTrashModal);const c=document.querySelector("#trashModal .close-modal-btn");c&&c.addEventListener("click",toggleTrashModal);const s=document.querySelector("#trashModal .restore-all-btn");s&&s.addEventListener("click",restoreAllNotes);const a=document.querySelector("#trashModal .clear-trash-btn");a&&a.addEventListener("click",clearTrash),u()});function u(){function o(t){const r=t.selectionStart,e=t.value;if(e.length>0){const l=e.charAt(0).toUpperCase()+e.slice(1);l!==e&&(t.value=l,t.setSelectionRange(r,r))}}function n(t){t.addEventListener("input",function(r){o(r.target)}),t.addEventListener("keyup",function(r){o(r.target)}),t.addEventListener("paste",function(r){setTimeout(()=>o(r.target),0)})}document.querySelectorAll(".board-title-input").forEach(t=>{n(t)});const s=new MutationObserver(function(t){t.forEach(function(r){r.addedNodes.forEach(function(e){e.nodeType===1&&((e.querySelectorAll?e.querySelectorAll(".board-title-input"):[]).forEach(d=>{n(d)}),e.classList&&e.classList.contains("board-title-input")&&n(e))})})}),a=document.querySelector(".boards-container");a&&s.observe(a,{childList:!0,subtree:!0});const i=document.querySelector(".note-input textarea");i&&(i.addEventListener("input",function(t){o(t.target)}),i.addEventListener("keyup",function(t){o(t.target)}),i.addEventListener("paste",function(t){setTimeout(()=>o(t.target),0)}))}function f(){setTimeout(()=>{document.querySelectorAll(".board-button").forEach(n=>{n.classList.add("transitions-ready"),n.offsetHeight,requestAnimationFrame(()=>{n.style.transform="scale(1)"})})},100)}})();
